#!/usr/bin/env zsh
export LANG=en_US.UTF-8
export LANGUAGE=en_US.UTF-8
export LC_CTYPE=en_US.UTF-8
export LC_ALL=en_US.UTF-8

# Check for updates
test -s $HOME/.dotfiles/update_online.sh && /bin/bash $HOME/.dotfiles/update_online.sh

# Load Antidote
test -d $HOME/.antidote || $(git clone https://github.com/mattmc3/antidote ${ZDOTDIR:-~}/.antidote --quiet)
test -e $HOME/.antidote/antidote.zsh && source $HOME/.antidote/antidote.zsh
antidote load
autoload -Uz compinit && compinit

# Set Path
setopt AUTOCD
setopt EXTENDED_GLOB
setopt EXTENDED_HISTORY
setopt HIST_IGNORE_ALL_DUPS
setopt HIST_FIND_NO_DUPS
setopt HIST_REDUCE_BLANKS
setopt INC_APPEND_HISTORY
setopt NO_BEEP
setopt SHARE_HISTORY

# Set Working Directory
precmd () { echo -n "\x1b]1337;CurrentDir=$(pwd)\x07" }

export PATH=$PATH:$HOME/.local/bin
typeset -U PATH
export PATH

# Generated for envman. Do not edit.
[ -s "$HOME/.config/envman/load.sh" ] && source "$HOME/.config/envman/load.sh"

if [ "$(antidote list | grep zsh-history-substring-search)" ]; then
  bindkey "$terminfo[kcuu1]" history-substring-search-up
  bindkey "$terminfo[kcud1]" history-substring-search-down
fi

if [ -f $HOME/.local/bin/oh-my-posh ]; then
 eval "$(oh-my-posh init zsh -c ~/.ohmyposh.json)"
fi
